<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>Mead Hall • Interactive Story</title>

  <!-- Icons -->
  <link rel="icon" type="image/png" href="/logo/favicon.ico.png">
  <link rel="apple-touch-icon" href="/logo/apple-touch-icon.png">

  <!-- Fonts + Theme -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Cinzel+Decorative:wght@400;700&family=Uncial+Antiqua&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/Styles/odin.css"/>

  <meta name="color-scheme" content="dark light">

  <style>
    :root {
      --paper:#0d0f12;
      --ink:#e9e4d5;
      --gold:rgba(200,169,107,.45);
    }

    body {
      margin:0;
      background:
        radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,.06), transparent),
        #0b0f12;
      color:var(--ink);
      font-family:"Cinzel",serif;
    }

    /* Header */
    header .wrap {
      display:flex;
      gap:16px;
      align-items:center;
      padding:14px 0;
    }
    .wrap {
      width:min(1100px, 92vw);
      margin:0 auto;
    }
    .brand {
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      color:inherit;
    }
    .brand .logo {
      width:36px;
      height:36px;
      border-radius:8px;
      object-fit:cover;
    }
    .nav {
      margin-left:auto;
      display:flex;
      gap:14px;
      align-items:center;
    }
    .nav a {
      color:var(--ink);
      text-decoration:none;
      opacity:.9;
    }
    .nav a:hover {
      opacity:1;
    }

    /* Book shell */
    .book-wrap {
      margin:110px auto 70px;
      width:min(980px, 95vw);
    }

    .book-chrome {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border:1px solid var(--gold);
      border-radius:16px 16px 0 0;
      padding:12px 14px;
      background:linear-gradient(
        180deg,
        rgba(255,255,255,.06),
        rgba(255,255,255,.02)
      );
    }

    .title {
      font-weight:700;
      letter-spacing:.02em;
    }
    .progress {
      font-size:12px;
      opacity:.8;
    }

    .book {
      position:relative;
      border:1px solid var(--gold);
      border-top:none;
      border-radius:0 0 16px 16px;
      overflow:hidden;
      background:linear-gradient(
        180deg,
        rgba(255,255,255,.03),
        rgba(255,255,255,.01)
      );
      min-height:70vh;
      display:grid;
      grid-template-columns:56px 1fr 56px;
    }

    .edge {
      display:flex;
      align-items:center;
      justify-content:center;
      user-select:none;
      cursor:pointer;
      opacity:.8;
      background:transparent;
      border:0;
      color:var(--ink);
    }
    .edge[disabled] {
      pointer-events:none;
      opacity:.3;
    }
    .edge .chev {
      font-size:26px;
      line-height:1;
    }

    .page {
      position:relative;
      padding:28px clamp(18px, 4vw, 42px);
      max-width:70ch;
      margin:0 auto;
      font-size:18px;
      line-height:1.6;
    }

    .page h2 {
      font-family:"Cinzel",serif;
      margin:.2em 0 .6em;
      font-size:28px;
    }

    .page p {
      margin:0 0 .9em;
    }

    .page img {
      display:block;
      max-width:100%;
      height:auto;
      border-radius:12px;
      border:1px solid var(--gold);
      margin:10px auto;
    }

    .footer {
      margin-top:10px;
      padding:8px 0;
      font-size:12px;
      opacity:.75;
      text-align:center;
    }
  </style>
</head>

<body>

  <!-- Header -->
  <header>
    <div class="wrap">
      <a class="brand" href="/" aria-label="Home">
        <img src="/logo/favicon.ico.png" alt="Mead Hall logo" class="logo"/>
        <h1 style="margin:0">Mead Hall</h1>
      </a>
      <nav class="nav">
        <a href="/library.html">← Back</a>
        <a href="/account.html">Account</a>
      </nav>
    </div>
  </header>

  <!-- Story -->
  <main class="book-wrap" aria-label="Interactive Story">
    <div class="book-chrome">
      <div class="title" id="bookTitle" aria-live="polite">
        Interactive Story
      </div>
      <div class="progress">
        <span id="pageNum">1</span>/<span id="pageCount">1</span>
      </div>
    </div>

    <section class="book" role="region" aria-label="Story content">
      <button class="edge" id="prevBtn" type="button" aria-label="Back">
        <span class="chev">⟨</span>
      </button>

      <!-- REQUIRED container for story.ts -->
      <article class="page" id="page" aria-live="polite"></article>

      <button class="edge" id="nextBtn" type="button" aria-label="Forward">
        <span class="chev">⟩</span>
      </button>
    </section>

    <div class="footer">
      Tip: choose an option to continue your story.
    </div>

    <noscript>
      <p style="text-align:center;opacity:.8">
        This interactive story requires JavaScript.
      </p>
    </noscript>
  </main>

  <!-- Story logic -->
  <script type="module" src="/src/story.ts"></script>

</body>
</html>

