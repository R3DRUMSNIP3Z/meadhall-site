<!doctype html><html lang="en"><head>  <meta charset="UTF-8" />  <meta name="viewport" content="width=device-width, initial-scale=1" />  <title>Mead Hall â€¢ Global Chat</title>  <!-- Backend base -->  <meta name="api-base" content="http://localhost:5050" />  <style>    body { background:#0b0e10; color:#e9e4d5; font-family:"Cinzel",serif; display:flex; flex-direction:column; height:100vh; margin:0; }    header.site-header { position:relative; z-index:50; background:#151515d0; border-bottom:1px solid #3b3325; }    header.site-header .wrap { display:flex; align-items:center; gap:16px; padding:.6rem 1rem; }    header.site-header h1 { font-size:1.1rem; margin:0; }    nav a { color:#e9e4d5; text-decoration:none; font-size:.9rem; }    nav { margin-left:auto; display:flex; gap:16px; }    nav a:hover { color:#ffd700; }    .chat-title { padding:1rem; text-align:center; font-size:1.7rem; font-weight:bold; border-bottom:2px solid #3b3325; color:#ffd700;      text-shadow: 0 0 5px #d4a94d, 0 0 10px #ffcc00, 0 0 15px #ffea80; }    #chatBox { flex:1; overflow-y:auto; padding:1rem; }    .msg { display:flex; align-items:flex-start; margin-bottom:1rem; }    .msg img.avatar { width:40px; height:40px; border-radius:50%; margin-right:.5rem; cursor:pointer; object-fit:cover; border:1px solid #3b3325; background:#222; }    .bubble { background:#151515d0; padding:.5rem 1rem; border-radius:12px; max-width:60%; word-wrap:break-word; }    .meta { font-weight:700;font-size:.9rem;margin-bottom:.2rem }    #chatInputRow { display:flex; padding:.5rem; background:#151515d0; border-top:2px solid #3b3325; gap:.5rem; position:relative; }    #chatInput { flex:1; padding:.5rem; border:none; border-radius:6px; }    #sendBtn, #emojiGifBtn { padding:.5rem 1rem; border:none; border-radius:6px; cursor:pointer; background:#d4a94d; color:#0b0e10; font-weight:bold; }    .sys { text-align:center; opacity:.7; font-size:.9rem; margin:.4rem 0; }    /* Picker â€” now resizable */    #picker {      position:absolute; bottom:60px; left:10px;      background:#151515; padding:0; border:1px solid #3b3325; border-radius:12px;      display:none; width:360px; min-width:320px; max-width:95vw;      max-height:80vh; min-height:260px; overflow:hidden; z-index:100; box-shadow:0 10px 30px rgba(0,0,0,.5);      resize: both; /* <-- drag from corner to resize */    }    .picker-head { display:flex; align-items:center; gap:8px; padding:8px; border-bottom:1px solid #3b3325; }    .picker-tabs { display:flex; gap:6px; }    .picker-tab { background:transparent; color:#e9e4d5; border:1px solid #3b3325; border-radius:8px; padding:4px 8px; cursor:pointer; font-weight:700; font-size:.85rem; }    .picker-tab.active { background:#d4a94d; color:#0b0e10; border-color:#d4a94d; }    .picker-search { margin-left:auto; }    .picker-search input { width:160px; padding:6px 8px; border-radius:8px; border:1px solid #3b3325; background:#0e0e0e; color:#e9e4d5; }    .picker-body { display:flex; flex-direction:column; height:calc(80vh - 80px); } /* adapts when resized */    .recents { padding:8px; border-bottom:1px solid #3b3325; display:flex; flex-wrap:wrap; gap:6px; min-height:44px; }    .recents img, .gif-grid img, .sticker-grid img { cursor:pointer; border-radius:8px; border:1px solid #3b3325; background:#222; }    .recents img { height:40px; }    /* Grids become denser when you resize bigger */    .gif-grid, .sticker-grid {      padding:8px; display:grid; gap:8px; overflow:auto;      grid-template-columns:repeat(auto-fill, minmax(90px, 1fr));    }    emoji-picker { --background:#151515; --border-color:#3b3325; max-height:100%; }    .chip-row { display:flex; gap:6px; padding:8px; border-bottom:1px solid #3b3325; overflow:auto; }    .chip { padding:4px 10px; border:1px solid #3b3325; border-radius:999px; cursor:pointer; font-size:.8rem; background:#0e0e0e; color:#e9e4d5; white-space:nowrap; }    .chip.active { background:#d4a94d; color:#0b0e0e; border-color:#d4a94d; }    .right-actions { margin-left:8px; display:flex; gap:6px; }    .mini-btn { font-size:.8rem; padding:4px 8px; border-radius:8px; border:1px solid #3b3325; background:#0e0e0e; color:#e9e4d5; cursor:pointer; }    .mini-btn:hover { border-color:#d4a94d; }    .error { opacity:.75; font-size:.9rem; padding:8px; }    /* Sticker editor modal */    #stickerModal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.6); z-index:200; }    .sticker-card { width:560px; max-width:92vw; background:#151515; border:1px solid #3b3325; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.6); }    .sticker-head { padding:10px; border-bottom:1px solid #3b3325; display:flex; align-items:center; justify-content:space-between; }    .sticker-body { padding:10px; display:flex; gap:10px; }    .sticker-sidebar { width:140px; display:flex; flex-direction:column; gap:6px; }    .sticker-sidebar .mini-btn, .sticker-sidebar input[type="file"] { width:100%; }    .sticker-canvas-wrap { flex:1; display:flex; align-items:center; justify-content:center; background:#0e0e0e; border:1px dashed #3b3325; border-radius:8px; min-height:320px; position:relative; }    .drop-hint { position:absolute; bottom:8px; right:8px; font-size:.8rem; opacity:.7; }    canvas#stickerCanvas { max-width:100%; max-height:60vh; background:transparent; }    .sticker-foot { display:flex; justify-content:flex-end; gap:8px; padding:10px; border-top:1px solid #3b3325; }  </style>  <link rel="stylesheet" href="/Styles/odin.css"></head><body>  <!-- Global header -->  <header class="site-header">    <div class="wrap">      <a href="/" style="display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit">        <img src="/logo/logo-64.png" alt="Mead Hall" style="width:32px;height:32px;border-radius:6px;object-fit:cover"/>        <h1>Mead Hall</h1>      </a>      <nav>        <a href="/index.html#plans">Membership</a>        <a href="/index.html#contest">Skald Contest</a>        <a href="/index.html#lore">Lore</a>        <a href="/account.html">Account</a>      </nav>    </div>  </header>  <!-- Chat Title -->  <div class="chat-title">âš”ï¸ Mead Hall â€¢ Global Chat âš”ï¸</div>  <div id="chatBox"></div>  <!-- Combined Emoji + GIF/Stickers picker -->  <div id="picker">    <div class="picker-head">      <div class="picker-tabs">        <button class="picker-tab active" data-tab="emoji">Emoji</button>        <button class="picker-tab" data-tab="gifs">GIFs</button>        <button class="picker-tab" data-tab="stickers">Stickers</button>      </div>      <div class="picker-search">        <input id="pickerSearch" type="text" placeholder="Search..." />      </div>      <div class="right-actions">        <button id="uploadStickerBtn" class="mini-btn">+ Upload</button>      </div>    </div>    <!-- Emoji -->    <div class="picker-body" data-pane="emoji">      <div class="recents" id="recentEmoji"></div>      <div style="flex:1; overflow:auto; padding:8px; display:flex; flex-direction:column; gap:8px;">        <!-- Custom Viking Emojis -->        <div id="customEmojis" style="display:flex; flex-wrap:wrap; gap:6px; margin-bottom:10px;">          <img src="/emojis/emoji1.png" alt="emoji1" style="height:40px;cursor:pointer"/>          <img src="/emojis/emoji2.png" alt="emoji2" style="height:40px;cursor:pointer"/>          <img src="/emojis/emoji3.png" alt="emoji3" style="height:40px;cursor:pointer"/>          <img src="/emojis/emoji4.png" alt="emoji4" style="height:40px;cursor:pointer"/>          <img src="/emojis/emoji5.png" alt="emoji5" style="height:40px;cursor:pointer"/>          <img src="/emojis/emoji6.png" alt="emoji6" style="height:40px;cursor:pointer"/>          <img src="/emojis/emoji7.png" alt="emoji7" style="height:40px;cursor:pointer"/>          <img src="/emojis/emoji8.png" alt="emoji8" style="height:40px;cursor:pointer"/>          <img src="/emojis/emoji9.png" alt="emoji9" style="height:40px;cursor:pointer"/>        </div>        <!-- Default Emoji Picker -->        <emoji-picker id="emojiPane"></emoji-picker>      </div>    </div>    <!-- GIFs -->    <div class="picker-body" data-pane="gifs" style="display:none">      <div class="recents" id="recentGifs"></div>      <div class="chip-row" id="gifChips"></div>      <div class="gif-grid" id="gifGrid"></div>      <div class="error" id="gifError" style="display:none"></div>    </div>    <!-- Stickers -->    <div class="picker-body" data-pane="stickers" style="display:none">      <div class="recents" id="recentStickers"></div>      <div class="chip-row" id="stickerChips"></div>      <div class="sticker-grid" id="stickerGrid"></div>      <div class="error" id="stickerError" style="display:none"></div>    </div>  </div>  <div id="chatInputRow">    <input id="chatInput" type="text" placeholder="Type your message..." />    <button id="emojiGifBtn">ðŸ˜€ GIF</button>    <button id="sendBtn">Send</button>  </div>  <!-- Sticker Editor Modal -->  <div id="stickerModal">    <div class="sticker-card">      <div class="sticker-head"><strong>Create sticker</strong> <button id="closeSticker" class="mini-btn">âœ•</button></div>      <div class="sticker-body">        <div class="sticker-sidebar">          <input type="file" id="stickerFile" accept="image/*" />          <button id="cropSquareBtn" class="mini-btn">Square crop</button>          <button id="fit512Btn" class="mini-btn">Resize 512px</button>          <button id="bgWhiteBtn" class="mini-btn">White BG</button>          <button id="bgTransparentBtn" class="mini-btn">Transparent BG</button>        </div>        <div class="sticker-canvas-wrap" id="stickerDrop">          <canvas id="stickerCanvas" width="512" height="512"></canvas>          <div class="drop-hint">Drag & drop an image</div>        </div>      </div>      <div class="sticker-foot">        <button id="saveStickerBtn" class="mini-btn">Save as sticker</button>      </div>    </div>  </div>  <!-- Emoji picker web component -->  </body></html>
