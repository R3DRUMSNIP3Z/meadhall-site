<!-- /guildbook/frames/legendary-frame.svg -->
<svg width="112" height="112" viewBox="0 0 112 112" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Shifting gold gradient -->
    <linearGradient id="gStrokeLegend" x1="0" y1="0" x2="112" y2="112" gradientUnits="userSpaceOnUse">
      <stop offset="0%"  stop-color="#fff1b3"/>
      <stop offset="30%" stop-color="#f7d86a"/>
      <stop offset="60%" stop-color="#d4a94d"/>
      <stop offset="100%" stop-color="#ffe28a"/>
      <animate attributeName="x1" values="0;112;0" dur="6s" repeatCount="indefinite"/>
      <animate attributeName="y1" values="0;112;0" dur="6s" repeatCount="indefinite"/>
      <animate attributeName="x2" values="112;0;112" dur="6s" repeatCount="indefinite"/>
      <animate attributeName="y2" values="112;0;112" dur="6s" repeatCount="indefinite"/>
    </linearGradient>

    <!-- Golden halo glow -->
    <filter id="fLegendGlow" x="-40%" y="-40%" width="180%" height="180%">
      <feGaussianBlur stdDeviation="2.5" result="b1"/>
      <feGaussianBlur stdDeviation="5" in="b1" result="b2"/>
      <feMerge>
        <feMergeNode in="b2"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Inner vignette -->
    <radialGradient id="gLegendInner" cx="50%" cy="50%" r="65%">
      <stop offset="70%" stop-color="rgba(255,255,255,0)" />
      <stop offset="100%" stop-color="rgba(60,45,10,0.45)" />
    </radialGradient>

    <!-- Spark -->
    <symbol id="sparkLegend" viewBox="-6 -6 12 12">
      <polygon points="0,-6 1.6,-1.6 6,0 1.6,1.6 0,6 -1.6,1.6 -6,0 -1.6,-1.6"
               fill="#fff6c9" opacity="0.95"/>
    </symbol>
  </defs>

  <!-- Soft inner vignette so items pop -->
  <rect x="1" y="1" width="110" height="110" rx="12" ry="12" fill="url(#gLegendInner)"/>

  <!-- Main animated border -->
  <rect x="2.5" y="2.5" width="107" height="107" rx="12" ry="12"
        stroke="url(#gStrokeLegend)" stroke-width="3.5" fill="none"
        stroke-linejoin="round" stroke-dasharray="10 12" filter="url(#fLegendGlow)">
    <animate attributeName="stroke-dashoffset" values="0;90" dur="5.5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.95;1;0.95" dur="3.8s" repeatCount="indefinite"/>
  </rect>

  <!-- Subtle inner ring -->
  <rect x="7.5" y="7.5" width="97" height="97" rx="10" ry="10"
        stroke="#ffd66b" stroke-opacity="0.55" stroke-width="1.3" fill="none">
    <animate attributeName="stroke-opacity" values="0.35;0.8;0.35" dur="3.2s" repeatCount="indefinite"/>
  </rect>

  <!-- Corner diamonds (slow rotate) -->
  <g fill="#ffeaa0" opacity="0.95">
    <rect x="8" y="8" width="8" height="8" transform="rotate(45 12 12)" rx="1.2">
      <animateTransform attributeName="transform" type="rotate"
                        values="45 12 12;405 12 12;45 12 12"
                        dur="8s" repeatCount="indefinite"/>
    </rect>
    <rect x="96" y="8" width="8" height="8" transform="rotate(45 100 12)" rx="1.2">
      <animateTransform attributeName="transform" type="rotate"
                        values="45 100 12;405 100 12;45 100 12"
                        dur="8s" repeatCount="indefinite" begin=".2s"/>
    </rect>
    <rect x="8" y="96" width="8" height="8" transform="rotate(45 12 100)" rx="1.2">
      <animateTransform attributeName="transform" type="rotate"
                        values="45 12 100;405 12 100;45 12 100"
                        dur="8s" repeatCount="indefinite" begin=".4s"/>
    </rect>
    <rect x="96" y="96" width="8" height="8" transform="rotate(45 100 100)" rx="1.2">
      <animateTransform attributeName="transform" type="rotate"
                        values="45 100 100;405 100 100;45 100 100"
                        dur="8s" repeatCount="indefinite" begin=".6s"/>
    </rect>
  </g>

  <!-- Floating sparkles around the edges -->
  <g>
    <use href="#sparkLegend" x="56" y="6">
      <animateTransform attributeName="transform" type="scale"
                        values="0.6;1.15;0.6" dur="1.8s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0;1;0" dur="1.8s" repeatCount="indefinite"/>
    </use>
    <use href="#sparkLegend" x="106" y="56">
      <animateTransform attributeName="transform" type="scale"
                        values="0.6;1.15;0.6" dur="1.8s" repeatCount="indefinite" begin=".35s"/>
      <animate attributeName="opacity" values="0;1;0" dur="1.8s" repeatCount="indefinite" begin=".35s"/>
    </use>
    <use href="#sparkLegend" x="56" y="106">
      <animateTransform attributeName="transform" type="scale"
                        values="0.6;1.15;0.6" dur="1.8s" repeatCount="indefinite" begin=".7s"/>
      <animate attributeName="opacity" values="0;1;0" dur="1.8s" repeatCount="indefinite" begin=".7s"/>
    </use>
    <use href="#sparkLegend" x="6" y="56">
      <animateTransform attributeName="transform" type="scale"
                        values="0.6;1.15;0.6" dur="1.8s" repeatCount="indefinite" begin="1.05s"/>
      <animate attributeName="opacity" values="0;1;0" dur="1.8s" repeatCount="indefinite" begin="1.05s"/>
    </use>
  </g>

  <style>
    @media (prefers-reduced-motion: reduce) {
      animate, animateTransform { display:none }
    }
  </style>
</svg>
